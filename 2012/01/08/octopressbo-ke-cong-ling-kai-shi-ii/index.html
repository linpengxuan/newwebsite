
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>Octopress博客从零开始 II - sourrabbit & linpx</title>
  <meta name="author" content="Dong Ping; Lin Pengxuan">

  
  <meta name="description" content="现在开始进行下一步octopress的安装。 我之前做过的octopress博客是这样更新的，vps上安装了，本地电脑也安装了，两个同时和github同步保持更新。同时，域名绑定vps的ip地址，用nginx来显现网页。因为我对git不熟悉，经常会出现一个问题就是更新出现问题。 &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://linpengxuan.github.com/newwebsite/blog/2012/01/08/octopressbo-ke-cong-ling-kai-shi-ii">
//  <link href="/favicon.png" rel="icon">
<link href="http://colors4.us/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="/javascripts/ender.js"></script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <link href="http://feeds.feedburner.com/linpx_sourrabbit_rss" rel="alternate" title="sourrabbit & linpx" type="application/atom+xml">
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->
<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
<link href='http://fonts.googleapis.com/css?family=Ruge+Boogie|Ruthie|Flavors|Rancho|Galdeano' rel='stylesheet' type='text/css'>
<link href='http://fonts.googleapis.com/css?family=Philosopher:[object Object],[object Object],[object Object],[object Object]' rel='stylesheet' type='text/css'>


<!-- Load jQuery -->
<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js" type="text/javascript"></script>
<script type="text/javascript">
    jQuery.noConflict(); // ender.js conflicts with jQuery
</script>

<!-- Load FancyBox -->
<link rel="stylesheet" href="/fancybox/jquery.fancybox.css" />
<script src="/fancybox/jquery.fancybox.pack.js" type="text/javascript"></script>

<!-- Fix FancyBox style for OctoPress -->
<style type="text/css">
  .fancybox-wrap { position: fixed !important; }
  .fancybox-opened {
    -webkit-border-radius: 4px !important;
       -moz-border-radius: 4px !important;
            border-radius: 4px !important;
  }
  .fancybox-close, .fancybox-prev span, .fancybox-next span {
    background-color: transparent !important;
    border: 0 !important;
  }
</style>


<!-- Custom Scripts -->
<script language="Javascript" type="text/javascript">
    // ender.js gobbles jQuery's ready event: Use ender.js $ instead
    $(document).ready(function() {
        jQuery(".fancybox").fancybox();
    });
</script>

  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-28584476-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


</head>

<body   >
  <header role="banner"><hgroup>
  <h1><a href="/">sourrabbit & linpx</a></h1>
  
    <h2>a blog for the colors in our life</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="http://feeds.feedburner.com/linpx_sourrabbit_rss" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="http://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:linpengxuan.github.com/newwebsite" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/">Blog</a></li>
  <li><a href="/blog/archives">Archives</a></li>
  <li><a href="http://www.flickr.com/photos/pennyg/sets">Photos</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div>
<article class="hentry" role="article">
  
  <header>
    
      <h1 class="entry-title">Octopress博客从零开始 II</h1>
    
    
      <p class="meta">
        








  


<time datetime="2012-01-08T08:13:00+08:00" pubdate data-updated="true">Jan 8<span>th</span>, 2012</time>
        
         | <a href="#disqus_thread">Comments</a>
        
      </p>
    
  </header>


<div class="entry-content"><p>现在开始进行下一步<strong>octopress的安装</strong>。</p>

<p>我之前做过的octopress博客是这样更新的，vps上安装了，本地电脑也安装了，两个同时和github同步保持更新。同时，域名绑定vps的ip地址，用nginx来显现网页。因为我对git不熟悉，经常会出现一个问题就是更新出现问题。<!--more--></p>

<p>octopress要求有rvm和git等配置好，我直接列出在<strong>ubuntu</strong>下直接安装的命令行，下次我考好直接贴入就可以了。</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>apt-get install git git-core git-gui git-doc curl gcc build-essential
</span><span class='line'>groupadd rvm
</span><span class='line'>useradd -g rvm rvm
</span><span class='line'>usermod -a -G rvm root
</span><span class='line'>bash &lt; &lt;(curl -Lk https://github.com/wayneeseguin/rvm/raw/1.3.0/contrib/install-system-wide)
</span><span class='line'>echo '[[ -s "/usr/local/rvm/scripts/rvm" ]] && . "/usr/local/rvm/scripts/rvm"' >> ~/.bash_profile
</span><span class='line'>source ~/.bash_profile
</span><span class='line'>rvm pkg install zlib
</span><span class='line'>rvm pkg install openssl
</span><span class='line'>rvm install 1.9.2 -C --with-openssl-dir=$HOME/.rvm/usr
</span><span class='line'>rvm --default use 1.9.2
</span><span class='line'>apt-get install libcurl4-openssl-dev libssl-dev zlib1g-dev libreadline5-dev
</span><span class='line'>ruby -v</span></code></pre></td></tr></table></div></figure>


<p>这时我们需要在github网页上配置一个新的源，猛击<a href="https://github.com/repositories/new">这里</a>开启新源。</p>

<figure class='code'><figcaption><span>VPS </span></figcaption>
<div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>cd ~;mkdir .ssh;cd .ssh #vps上制作ssh登录key
</span><span class='line'>ssh-keygen -t rsa -C "your@email.com"
</span><span class='line'>vi id_rsa.pub #考入github public key中
</span><span class='line'>ssh -T git@github.com #测试是否可以登录,注意将原先已有的authokey2文件保存后再拷回来，保证本机登录vps的无密码要求功能
</span><span class='line'>git config --global user.name "your name"
</span><span class='line'>git config --global user.email your@email.com</span></code></pre></td></tr></table></div></figure>


<p>继续octopress的配置</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>mkdir /home/wwwroot;cd /home/wwwroot
</span><span class='line'>git clone git://github.com/imathis/octopress.git blog;cd blog #我的博客安装在/home/wwwroot文件夹下，如果直接安装到root下，nginx是无法正常显示的。
</span><span class='line'>ln /home/wwwroot/blog ~/blog -s #在根目录建立一个快捷方式
</span><span class='line'>gem install bundle
</span><span class='line'>rake setup_github_pages #将刚才新设好的github page地址考入git@github.com:yourname/blog.git
</span><span class='line'>git remote add origin git@github.com:yourname/blog.git
</span><span class='line'>rake install
</span><span class='line'>rake generate
</span><span class='line'>rake deploy
</span><span class='line'>git add .
</span><span class='line'>git commit -m "blahblahblah"
</span><span class='line'>git push origin master</span></code></pre></td></tr></table></div></figure>


<p>以上做完后你的博客就已经设置好了。关于git有些补充：</p>

<ul>
<li><p>用<code>git remote －v</code>来看看push的设置，刚开始初始化完的时候，你只有一个无法远程push的git源，也就是octopuses作者的git源<code>git://github.com/imathis/octopress.git</code>，我们需要通过这条命令更新为自己的git源<code>git remote add origin git@github.com:linpengxuan/test.git</code>,这里origin只是一个名词，一个代号，很遗憾我花了n长时间才发现这个<code>origin</code>是可以改成自己想要的任何名字，比如<code>mown</code>，这样的结果是，我们在和网站同步的时候就变成了<code>git push myown master</code>;同样的，<code>master</code>也是本地机子的源的名字，所以命令的意思就是<strong>push to myown from master</strong>。类似的<code>git pull origin source</code>意思为<strong>pull from origin to source</strong>。</p></li>
<li><p><code>git add .</code>的意义在于给每个文件创建个时间点，在这个时点给文件命名为后面的commit的内容<code>blahblah</code>。当我们修改了文件以后，另一个时点再commit一个不同的内容<code>blah II</code>。这样的意义就是你可以取回不同时点内容变动前后的相同文件，这也就是github很有意义的地方，版本控制。这也是我整了很久才明白过来的地方。</p></li>
</ul>


<p>因为我需要把博客放在自己的网站上，我打算先安装nginx到vps上，我的网站内容。之前装过<a href="http://lnmp.org/">LMNP一键安装包</a>，实在太吃我内存了，256mb的xen vps用<code>free</code>一看，就只有几兆的空余，所以最好的方法就是只装一个LMNP中的那个N，也就是nginx。</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>echo "deb http://nginx.org/packages/ubuntu/ lucid nginx" >> /etc/apt/sources.list
</span><span class='line'>echo "deb-src http://nginx.org/packages/ubuntu/ lucid nginx" >> /etc/apt/sources.list
</span><span class='line'>apt-get update 
</span><span class='line'>apt-get install nginx
</span><span class='line'>service nginx start</span></code></pre></td></tr></table></div></figure>


<p>然后调整nginx内容，指向博客首页。</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>vi /etc/nginx/conf.d/default.conf #在server框内插入以下内容
</span><span class='line'>server_name  xxx.com; #网站的域名 
</span><span class='line'>location / {root   /home/wwwroot/blog/public;
</span><span class='line'>                   index  index.html;}
</span><span class='line'>service nginx restart #回到目录下进行重启nginx服务</span></code></pre></td></tr></table></div></figure>


<p>回到目录下，再调整<code>_config.yml</code>。</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>cd ~/blog
</span><span class='line'>vi _config.yml #这里需要改以下两个地方,destination不改的话，你的网站就没有theme了
</span><span class='line'>root: /
</span><span class='line'>destination: public/
</span><span class='line'>rake generate;rake deploy #要备份的话，可以commit到origin，一般网站更新到这步就可以了</span></code></pre></td></tr></table></div></figure>


<p>这时候打开你的vps ip地址，应该就可以看到octopress博客了。</p>

<h4>关于博客域名绑定</h4>

<ul>
<li>我先将域名绑定至网络免费的dns服务提供商，我用的是<a href="http://freedns.ws">freedns.ws</a>,在上面将域名指向vps ip地址。</li>
<li>因为域名是在webhost上买的，所以webhost有个可以更改nameserver的地方，将这个指向freedns服务商提供的nameserver就可以了。</li>
<li>然后等待1～24小时让这个更改内容在网络进行propogate。</li>
</ul>


<p>到这儿，octopress博客已经完全搭建起来了。直接就可以用如下命令来进行博客的发布。呼，长嘘口气。</p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>rake new_post["filename"]
</span><span class='line'>vi source/_posts/2012-01-07-filename.markdown #起名方式为日期，然后跟着post名称，如果是中文的话，会自动被整理成拼音,记得在开篇设置author: name以及category: 类别等
</span><span class='line'>rake generate
</span><span class='line'>rake deploy</span></code></pre></td></tr></table></div></figure>



</div>


  <footer>
    <p class="meta">
      
  

<span class="byline author vcard">Posted by <span class="fn">linpx</span></span>

      








  


<time datetime="2012-01-08T08:13:00+08:00" pubdate data-updated="true">Jan 8<span>th</span>, 2012</time>
      

<span class="categories">
  
    <a class='category' href='/blog/categories/computer/'>computer</a>, <a class='category' href='/blog/categories/octopress/'>octopress</a>
  
</span>


    </p>
    
      <div class="sharing">
  
  <a href="http://twitter.com/share" class="twitter-share-button" data-url="http://linpengxuan.github.com/newwebsite/blog/2012/01/08/octopressbo-ke-cong-ling-kai-shi-ii/" data-via="linpx" data-counturl="http://linpengxuan.github.com/newwebsite/blog/2012/01/08/octopressbo-ke-cong-ling-kai-shi-ii/" >Tweet</a>
  
  
  <div class="g-plusone" data-size="medium"></div>
  
  
</div>

    
    <p class="meta">
      
        <a class="basic-alignment left" href="/blog/2012/01/08/octopressbo-ke-cong-ling-kai-shi-i/" title="Previous Post: Octopress博客从零开始 I">&laquo; Octopress博客从零开始 I</a>
      
      
        <a class="basic-alignment right" href="/blog/2012/01/08/octopressbo-ke-cong-ling-kai-shi-iii/" title="next Post: Octopress博客从零开始 III">Octopress博客从零开始 III &raquo;</a>
      
    </p>
  </footer>
</article>

  <section>
    <h1>Comments</h1>
    <div id="disqus_thread" aria-live="polite"><noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
</div>
  </section>

</div>

<aside class="sidebar">
  
    <section>
  <h1>About Us</h1>
<p>My wife <a href="http://twitter.com/sourrabbit">@sourrabbit</a> and I <a href="http://twitter.com/linpx">@linpx</a> are the only authors contributing to this blog. We believe life is a book, from which all those good and bad, happy and sad things are written. We commit to keep this blog up, for the memories of the past as well as the colors in our life.<a href="http://www.colors4.us/about-us/index.html">...</a></p>
</section>

<section>
  <h1>Recent Posts</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2013/03/17/a-new-journey/">新的旅程</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/03/16/nights-before-leaving-korea/">离开韩国前夕</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/03/14/re-rent/">再搬家</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/03/12/say-goodbye-to-my-wisdom-teeth/">致我终将逝去的智齿们</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/02/25/a-life-of-ease-and-comfort-in-taiwan/">停留在台湾的小安逸</a>
      </li>
    
  </ul>
</section>

<section>
  <h1>Latest Tweets</h1>
  <ul id="tweets">
    <li class="loading">Status updating...</li>
  </ul>
  <script type="text/javascript">
    $.domReady(function(){
      getTwitterFeed("linpx", 4, false);
    });
  </script>
  <script src="/javascripts/twitter.js" type="text/javascript"> </script>
  
    <a href="http://twitter.com/linpx" class="twitter-follow-button" data-show-count="false">Follow @linpx</a>
  
</section>

<section>
 <h1>Categories</h1>
 <ul id="categories">
 <li class='category'><a href='http://colors4.us/blog/categories/computer/'>computer (23)</a></li>
<li class='category'><a href='http://colors4.us/blog/categories/connect/'>connect (1)</a></li>
<li class='category'><a href='http://colors4.us/blog/categories/dream/'>dream (2)</a></li>
<li class='category'><a href='http://colors4.us/blog/categories/exam/'>exam (4)</a></li>
<li class='category'><a href='http://colors4.us/blog/categories/job/'>job (6)</a></li>
<li class='category'><a href='http://colors4.us/blog/categories/jokes/'>jokes (32)</a></li>
<li class='category'><a href='http://colors4.us/blog/categories/korea/'>korea (34)</a></li>
<li class='category'><a href='http://colors4.us/blog/categories/life/'>life (156)</a></li>
<li class='category'><a href='http://colors4.us/blog/categories/miscellaneous/'>miscellaneous (5)</a></li>
<li class='category'><a href='http://colors4.us/blog/categories/movie/'>movie (13)</a></li>
<li class='category'><a href='http://colors4.us/blog/categories/octopress/'>octopress (11)</a></li>
<li class='category'><a href='http://colors4.us/blog/categories/photo/'>photo (34)</a></li>
<li class='category'><a href='http://colors4.us/blog/categories/rabbit/'>rabbit (10)</a></li>
<li class='category'><a href='http://colors4.us/blog/categories/reading/'>reading (6)</a></li>
<li class='category'><a href='http://colors4.us/blog/categories/society/'>society (17)</a></li>
<li class='category'><a href='http://colors4.us/blog/categories/sourrabbit/'>sourrabbit (4)</a></li>
<li class='category'><a href='http://colors4.us/blog/categories/thoughts/'>thoughts (5)</a></li>
<li class='category'><a href='http://colors4.us/blog/categories/travel/'>travel (16)</a></li>
<li class='category'><a href='http://colors4.us/blog/categories/xp/'>xp (12)</a></li>
<li class='category'><a href='http://colors4.us/blog/categories/旧闻/'>旧闻 (2)</a></li>
<li class='category'><a href='http://colors4.us/blog/categories/爱好/'>爱好 (2)</a></li>
<li class='category'><a href='http://colors4.us/blog/categories/话/'>话 (1)</a></li>

 </ul>
</section>

  
</aside>


    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2013 - Dong Ping; Lin Pengxuan -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  

<script type="text/javascript">
      var disqus_shortname = 'linpx';
      
        
        // var disqus_developer = 1;
        var disqus_identifier = 'http://linpengxuan.github.com/newwebsite/blog/2012/01/08/octopressbo-ke-cong-ling-kai-shi-ii/';
        var disqus_url = 'http://linpengxuan.github.com/newwebsite/blog/2012/01/08/octopressbo-ke-cong-ling-kai-shi-ii/';
        var disqus_script = 'embed.js';
      
    (function () {
      var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
      dsq.src = 'http://' + disqus_shortname + '.disqus.com/' + disqus_script;
      (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    }());
</script>





  <script type="text/javascript">
    (function() {
      var script = document.createElement('script'); script.type = 'text/javascript'; script.async = true;
      script.src = 'https://apis.google.com/js/plusone.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(script, s);
    })();
  </script>



  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = 'http://platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
